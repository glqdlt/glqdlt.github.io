---
layout: post
title:  "왜 Jquery를 쓰지 않을까?"
author: "glqdlt"
---

## 왜 Jquery를 쓰지 않을까?

우연치 않게 팀의 개발 문화를 리드할 수 있는 기회를 얻게 되어, 바쁜 줄 모르고 숨바쁘게 지내왔었다. 아직 경험할 것이 많은 시기에 막중하게도 웹 어플리케이션 개발과 관련 된 선행 개발을 진행하게 되었다. 이 과정에서 (나를 비롯한) 전통적인 개발에 익숙한 팀원들에게, 요즘 들어 많이 거론되는 프레임워크들과.. 그것들이 왜 유명한지, SPA(Single Page Application) 개발의 차이점과 왜 좋은 지에 대해 명확하게 설명할 필요가 있었다. 


### 1. 성능 오버헤드
 jQuery는 원래 브라우저 간의 상이한 JS 호환성 문제(구글링 하면 관련 자료가 많이 나온다. JS의 역사를 검색해보면 좋다.)를 해결하기 위해 나왔다, 일종의 래퍼 라이브러리(wrapper lib) 와 같다. 

시간이 흘러 IE의 지원이 공식적으로 중단(만악의 근원 IE -_-)되었고, 여러 브라우저에서 표준 스펙을 최대한 준수하며 개발하게 되었고, 브라우저 업데이트를 주기적으로 갱신(오늘 날에 그린 브라우저라 불리우는)하고 있어 개발자 입장에서 호환성 문제를 예전만큼 고심하지 않아도 되었다. (그렇다고 관심이 없어도 된다는 아니다.)

jQuery는 function을 수행할 때 호환성을 위해 전처리 단계로 dirty check 과정이 있다, 오늘 날의 브라우저들이 통합된 시점에서는 이 부분이 불필요하므로 되려 상황에 따라 성능 상에서 오버헤드가 발생할 수가 있다.

이러한 부분 때문에 많은 유저 인터렉션이 있는 웹 서비스 (예: 소셜, 포탈 등) 에서는 잘 안쓰이게 시작하게 되었다. (그리고 그들이 대안으로 쓰기 위해 만든 것들이 요즘 자주 접하는 라이브러리 & 프레임워크의 시작이었다, angualr, react라던지..)

### 2. 개발 패러다임의 변화
기존에 JS 진영에서 없다 싶어 했던 소스 모듈화의 패러다임이 확산 되고, MV** 패턴과 같은 우리가 흔히 '컴퍼넌트' 구조 라고 일컫는 구조가 안정적으로 정착되면서 jQuery에서 사용하는 '명령행' 방식이 점차 비효율적이라는 이야기가 나오기 시작 했다. 

명령행 방식은 나의 짧은 가방끈으로 명확히 정의하기가 어렵지만, 개인적으로 top-down 으로 읽어가는 원 패턴의 단순한 구조라 생각하고 있다. 브라우저 코딩에 국한 된 이야기지만 웹 화면이 기본적으로 싱글 스레드로 돌다보니 콜백과 같은 패턴을 빼놓을 수가 없는 걸 심심치 않게 보는 데, '기능을 위한 기능 그리고 기능' 이란 느낌으로 콜백지옥에 빠지면서  로직의 크기가 어마어마해지고 파악하기 어려운 스파게티 소스가 될 수 있는 여지가 발생한다.


### 3. 플랫폼의 진화

jQuery는 1에서 서술한 데로, 브라우저 간의 호환성 문제로 세상에 나타났다. 이는 클라이언트에 dependency 를 가진다는 의미를 뜻하는 데, nodejs의 등장으로 인해 javascript가 client에만 국한되지 않는 시대의 패러다임을 이행할 수 없음으로도 볼 수 있다. 

javascript가 최근 들어 인기가 급속도로 올라가는 것은 여러 이유가 있겠지만 가장 큰 것으로 (web 기준으로) front / back 영역 구분 없이 어느 곳에서 사용가능한 언어(요즘은 Converting 이 좋아져 App& Desktop 에서도 쓰임)이다 보니, 플랫폼 무관 호환되는 점에서 인기 몰이를 하고 있다 생각한다, jQuery는 위에서 말한것처럼 브라우저에 dependency를 가지니 명함을 내밀 수가 없다.


### 뭐 그래도..

위에서 단점(?)아닌 단점들을 서술해보았지만, 그래도 아직까지 결제 와 같은 민감한 서비스에서는 호환성을 위해 jQuery를 많이들 쓰고 있다, 이는 옳은 방안이라 생각한다. 아무리 플랫폼(브라우저) 환경이 좋아졌다 하더라도 아직까지 XP를 OS로 쓰는 사람이 있고, IE를 브라우저로 쓰고 있는 사람 역시 많은 우리나라(한국) 환경을 보면, jQuery 만한 것이 없는 것도 없으니 등한 시 할 수 없다. -_-; 이는 아래의 이유와 더불어서 부트스트랩이 아직도 jQuery를 사용하고 있는 이유와 비슷하다. 

또 한편으론 mv** 아키텍처의 이해는 처음 접하기에는 러닝커브가 있다고 생각 하는 데, 이에 비해 직관적으로 보이는 명령행 스타일은 비숙련자(초심자, 비개발자 등)에게는 친근하게 다가 올 수 있다.

### 마무리 하며

결국 말 하고자 하는 바는 '뭐가 좋아 졌는지를 알려면 과거를 알아야 한다는 느낌'으로 접근하면서 말하고 싶었다. 정답은 없지만 상황에 따라서 jQuery가 되었든, 최신 Fw(Framework) 들을  쓰든 좋다. 단, 적절한 상황에서 적절한 선택을 하는 것이 중요하다.

나는 JS진영의 여러가지 시도와 발전에 매우 놀랐다. 특히 express와 같은 서버 엔지니어링에서는 가능하다 생각헀었는 데, MV** 패턴으로 된 컴포넌트 구조에서 단위 테스트가 너무나 쉽게 실현되고 하나의 자동화 task로 적용가능한 테스트 커버리지는.. 마치 기존의 자바 프로그래밍에서 TDD를 하던 것과 유사했던지라 매우 놀라웠다. 예전 같았으면 UI 테스트란, 직접 손으로 클릭해서 유닛테스트의 느낌을 내보고.. selenium 을 통한 인수테스트 자동화 정도로만 접근했었을 텐데..


### 레퍼런스 
[Why we shouldn't use jQuery anymore ?](https://dev.to/belhassen07/why-i-dont-use-jquery-anymore--8nh)

[Why do many web developers hate jQuery?](https://hashnode.com/post/why-do-many-web-developers-hate-jquery-ciibz8fp801g9j3xtgx19utpe)
