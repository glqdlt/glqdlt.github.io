---
layout: post
title:  "자바로 배우는 리팩토링 입문"
author: "glqdlt"
---

# 들어가며


# 이 책은

이 책은 마틴 파울러의 GOF의 디자인 패턴 책을 읽어본 사람이라면 굳이 읽지 않아도 될 책이다. 내용 자체는 GOF 의 책보다 빈약하며, 자주 현업에서 사용 되는 디자인 패턴 정도만 실제 사례를 두고 설명하며 풀어가기 때문이다.

그래도 책을 읽으면서 에이 이게뭐야, 이건 자주쓰는 거지, 아 그래 저자가 뭘 좀 아는군 이라며 끄덕이는 자신을 본다면, 당신은 월급만 축내며 살아온 프로그래머는 아닐 것이다.

어셔선 도입이나 널 객체 도입에 대해서는 크게 공감이 되질 않았는 데, 자바8의 Optional 이 생기면서 기능적 의존이 많이 사라졌기 때문이다. 

또한 관측 데이터 복제(옵저버 패턴)과 같은 경우는 개인적인 경험 측면에서 javascript 클라이언트 사이드에서 많이 접하고, 자바 백엔드 개발에서는 생각보다 접할 기회가 적었는 데, 책에서 자바 SWING 을 예시로 든 사례는 여러가지 생각이 많이 들었다. 

그나마 실무에 도움이 될 만한 내용으로는 분류 코드를 하위 클래스로 치환이 많은 도움이 될 것이다. 실무에서 단일 책임 원칙을 위반해야 하는 여러가지 경우가 있는 데, 예를 들어 특정 FORM 의 입력 파라미터가 데이터의 타입을 결정하는 경우를 대표적으로 들 수 있다. 

이 경우 이렇게 둘 수 있는 데, 책의 내용은 기반에 대한 설명만 해서 실무에 적용하기 위해서는 아래와 같이 생각해볼 수 있다.

아래는 내가 실무에서 작성했던 실무 코드 일부이다. FORM 타입을 sub type으로 확장하고, 자기 자신이 어디 repository 을 향해야하는지 본인 스스로가 알 수 있도록 팩토리 메서드 패턴으로 처리한 형태이다.