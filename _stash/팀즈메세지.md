재직중인 곳은 MS 벤더를 기반으로 모든 워크 플로우가 진행이된다. 클라우드도 마찬가지로 Azure 를 쓰고 있다.

당연히 메신저도 Teams 를 사용한다.

사내 업무 툴에서 특정 유저에게 비 회신 단순 메세지를 보내야 하는 니즈가 생겼다.

업무 툴 비밀번호 변경이나 배치 작업 완료 알람 등의 이유에서이다. 

MS Teams 의 메세지를 게시하는 방법이 여러가지가 있다.

이에 대한 정리

가장 쉽게 메세지를 보내보는 방법은 특정 채널에 incoming webhook connector 를 설정해서 채널에 메시지를 보내는 API(인증토큰포함) 를 획득하는 것이다.

다만 이 방법은 DM 이라고 하는 특정 유저에게 보내는 방법은 불가능하다.

불가능한 것을 처리하려면 TEAMS 에 봇을 만들어서 구성을 해야한다.

봇 외의 방법이 없나 구글링 해보니깐 과거에는 팀즈 메신저의 메시지가 저장되는 Graph DB에 직접 API를 호출해서 하려고 했던것 같은 데

별 다른 자료가 없는 것으로 보인다. 모두 Bot 관련 생성으로 나온다.

Bot 을 만드는 방법은 여러가지가 있다.

Azure PORTAL (Azure 클라우드 인프라) 가 있다면 Web App Bot 이라는 봇 프레임워크 솔루션을 통해

봇을 등록하고 관리하는 리소스를 만들면 된다. 이 경우 Java 외의 언어들만 탬플릿을 지원하니 골때린다.

다른 방법은 일반 비 클라우드 사용자도 봇을 등록할수있는 https://dev.botframework.com/ 가 있다.

관련해서는 이 [가이드](https://docs.microsoft.com/en-us/microsoftteams/platform/resources/bot-v3/bots-create) 가 도움이 될 것이다.

그런데 이러한 방법들 모두는 public bot 을 만든다. 즉 teams 의 봇 탬에 들어가면 노출이 되는 다양한 봇들 속에 나의 봇도 노출이 된다는 것이다.

뭐랄까 나는 내 안드로이드 폰 내부에서만 동작하는 간단한 앱을 폰에서 사용하고 싶은데, 안드로이드 앱마켓에 등록해야 하는 느낌이다.

별도로 팀즈 내에서 빌드 된 봇을 업로드 해서 private bot 으로 배포 하는 [방법](https://docs.microsoft.com/en-us/microsoftteams/platform/concepts/deploy-and-publish/apps-upload)이 있다.

근데 이것도 개념적으로는 클라우드에 배포이다, 팀즈 메신저 자체가 MS 클라우드 위에서 동작을 하니깐 어쩔수 없는듯.


## 채널에 메시지를 송부

