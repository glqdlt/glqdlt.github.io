
## 캐싱이란

CDN 을 쓰는 주된 이유이기도 하다. origin 이 한국에 있고, 미국, 유럽에서 접속하는 웹서비스가 있다고 가정하자. html 의 구성 리소스 중에서 가장 무거운것이 이미지와 같은 Media 유형이다 (물론 font 도)

한국에 있는 1mb 용량의 이미지를 미국이나 유럽에서 접근해서 받아가려면 바다 건너 산 건너 엄청난 험난한 여정을 거쳐서 받아야하기 때문에 레이턴시가 장난 없다.

그래서 한국에 있는 origin 서버에 있는 이미지들을 copy 해서 미국, 유럽에 복제하는 개념이 CDN이다. 

CDN의 구성 원리는 아래를 참고하면 좋다.
https://docs.microsoft.com/ko-kr/azure/cdn/cdn-how-caching-works 


AZURE CDN에는 전역 설정인 cache rule 을 azure portal 에 구성해서 주기적으로 캐싱처리하도록 하는 방법과 아래처럼 cache-control 헤더를 CDN 에 사용하는 방식으로 가능하다.


https://docs.microsoft.com/ko-kr/azure/cdn/cdn-how-caching-works

![](images/02c1045b.png)



### AZURE CDN  

https://docs.microsoft.com/ko-kr/azure/cdn/cdn-how-caching-works



### AZURE CDN 미리 로드


https://docs.microsoft.com/ko-kr/azure/cdn/cdn-preload-endpoint

https://docs.microsoft.com/ko-kr/rest/api/cdn/endpoints/load-content
