DDD 와 MSA 그리고 클라우드 전반적인 부분을 정리해준 고마운 책이다.

책 제목은 입문서적 같지만, 굉장히 넓고 포괄적인 개념을 담고 있기에, 매우 가볍게 입문 서적으로 훑으면서 이런게 있구나 하면서 단어들을 눈에 익히는 정도로 끝내고, 에릭 에반스의 DDD 와 같은 바이블을 정독한 뒤에 다시 돌아와서 개념을 정리하면 매우 놀라운 학습 성과를 얻을 수 있는 책이다. (왜냐면 어쩌다 보니 내가 이렇게 하고 있었고 효과를 봤기 때문)

## 바운디드 컨텍스트

도메인의 경계에 대한 이야기이다. 도메인의 개념을 외부로 부터 오염 받지 않기 위한 경계를 말한다. 외부로 부터 오염 받는다니? 라 생각이 들수 있는 데, 관점이나 맥락에 따라서 개념이 지칭하는 단어가 다르게 해석될 수 있는 걸 오염이라고 말할수 있다.
예를 들어 '고객' 이라는 단어 자체만을 놓고 보자. 결제 팀과 배송 팀에서 고객이라는 단어를 모두 사용할수 있다. 결제 팀에서의 고객은 상품을 구매하기 위해 '결제를 행하는 사람'을 말한다. 배송 팀에서의 고객은 '상품을 수령하는 사람'을 말한다. 내가 부모님에게 보내드릴 상품을 결제하였고, 실제 상품은 부모님의 집으로 배송이 되었다고 해보자. 여기서 결제팀의 고객은 '나' 를 의미하고, 배송팀에서의 고객은 '부모님' 을 가르키게 된다. 완전히 다른 개념이 된다. 이러한 환경에서 결제팀과 배송팀이 서로 고객에 대해 얘기 또는 협업을 한다면 다른 의미로 의사소통 하게 되어 비지니스 혼란을 야기할수 있다.

> 명확하게 결제 서비스에서는 결제자의 개념으로, 배송 서비스에서는 수취자의 개념으로 모델링해야 한다. - 도메인 주도 설계로 시작하는 마이크로서비스 개발

결제 팀에서 고객이란 모델을 모델링 한다면 '결제' 가 가능한 회원 계정을 말할 것이다. 일반적으로 로그인한 유저가 자신의 보유한 결제방법으로 결제를 하게 됨으로, 회원 계정을 포커싱할수도 있지만, 사실 회원 계정은 결제방법이 없는 계정도 존재함으로 고객팀에서의 고객이란 결제방법을 보유한 회원계정으로 정의 하고 모델링에 접근해야 한다.

배송 팀에서 고객이란 상품을 수령 받는 사람이다. 앞서 말한 예시처럼 선물을 한다는 개념으로 보면 '부모님' 은 회원 계정과 전혀 상관이 없는 사람이다. 배송 팀에서는 고객이라는 단어가 핵심적이지는 않다. 상품을 배송 하는 과정에 누가 받아야할지를 표기하는 개념일 뿐이기 때문이다. 그래서 고객이란 개념은 상품이 수령될 수령지와 수령인의 이름이 조합된 개념으로 보게 된다. 수령인의 이름으로만 치면 해당 지역에 살고있는 동명이인이 있을수도 있기에 명확히 수령지에 거주하고 있는 수령인으로 접근해야한다.

고객이란 모델을 놓고 이를 클래스로 표현해보자. 결제 팀에서의 고객은 필수적으로 결제방법이라는 속성이 존재하게 된다. 만약 회원 가입 팀이라는 팀이 존재한다면 이 팀에서의 고객 모델에는 결제 방법 속성이 필요하지 않다. 배송 팀 입장에서는 고객이라는 개념은 주소와 수령인이라는 문자열에만 집중할수 있다.

결제팀 고객
- 이름 : 문자열
- 계정명(id) : 문자열
- 결제방법 : 리스트
- 포인트 : 정수
- 캐시 : 정수

배송팀 고객
- 상품구매계정명(id) : 문자열
- 수령인 성명 : 문자열
- 수령인의 주소 : 문자열
- 수령 요청 메세지 : 문자열

회원팀 고객
- 이름 : 문자열
- 계정명(id) 문자열
- 휴대폰 번호 : 문자열
- 이메일 주소 : 문자열
- 가입 추천인 : 문자열

 (5분만에 생각해본 모델링이기에 허접할수 있다, 참고만하자)
 
 이렇게 각 팀에서는 팀이 존재하는 이유에 따른 업무 관심사 속성들이 고객에 내포하게 된다. 배송팀 입장에서는 결제방법에 따라서 비지니스 정책이 바뀌거나, 코드의 로직이 바뀔 일이 없다. 반면 결제팀 입장에서는 결제 방법에 따라서 포인트가 더 누적이 되거나, 캐시를 사용할 수 없거나 하는 비지니스 정책 조합이 결정이 됨으로 중요하다. 