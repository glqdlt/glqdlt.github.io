---
layout: post
title:  "PPK기반 GIt 설정(윈도우)"
author: "glqdlt"
comments : true
---

윈도우 환경에서 Gitlab이나 Github에 Private Key 기반으로 인증을 설정하려면 생각보다 손이 갑니다.
대부분의 레퍼런스들을 보면 간단히 커맨드 몇 줄이면 되는 것을 윈도우는 좀 건드릴 부분이 몇 있습니다.

윈도우10 기준으로는 몇 가지 SSH 관련 기능이 생겻지만, 기본적으로 putty와 같은 써드파티 라이브러리를 사용합니다.

Putty를 설치했다는 기준으로 설명을 함으로 [putty](#) 가 설치되어 있지 않은 분은 설치하세요.

1. puttygen 을 통해 개인 인증키를 발급할 겁니다. 참고로 puttygen은 마우스를 이리저리 돌려가며 발생하는 이벤트(random 좌표)를 key에 대입하니 참고하세요.

2. 생성된 key를 저장합니다. 기본적으로 

    > ~/.ssh 폴더에 저장하는 걸 추천합니다.

3. 생성 된 key가 .ssh 에 있다고해서 인증이 활성화되지 않습니다.

    > gitlab 이나 github에 공개키를 등록합니다.

4. 다시 시도해보지만, 여전히 안됩니다. 이유는 ~/.ssh/config 파일에서 PPK 정보를 읽어들이는 데, 해당 파일이 없기 때문입니다.

5. config 파일을 생성합니다.
    
    > %userProfile%/.ssh/config

6. config 파일에 아래 내용을 기입합니다.

        Host gitlab.com
        HostName gitlab.com
        IdentityFile ~/.ssh/jhun.pph
        User jhun

        Host github.com
        HostName github.com
        IdentityFile ~/.ssh/glqdlt.pph
        User glqdlt

어라, 이래도 안됩니다. 'format 에러??' 이유는 puttygen 에서 저장할 때, openssh type으로 저장하지 않기 때문입니다.

아래step 으로 다시 시도 합니다.

> PPK 파일을 puttygen 에서 다시 load,

> 상단 TOP 메뉴에서, conversions > export openssh key 기능으로 export 합니다.

export 된 PPK 파일을 config 파일에 설정해줍니다.

# 레퍼런스

[Stackoverflow](https://stackoverflow.com/questions/42863913/key-load-public-invalid-format)