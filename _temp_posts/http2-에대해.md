---
layout: post
title:  "Http/2"
author: "glqdlt"
---

지난 번 gRPC 에 대한 글을 작성하면서, 약속했던(쓰고 있는 지금은 후회중 -_-;) http2 에 대해 조금 자세히 알아보는 시간을 가져보려합니다.


http/2 가 세상에 나온지 벌써 몇년이 흘렀지만, 아직까지 많은 웹 서비스에 정착하지 못하고 있습니다. 여러가지 이유가 있었겠지만 브라우저 대부분이 지원하게 된 지금에서도 미지원인 곳은 아무래도 경험이 없어 서비스에 적용하기 껄끄러운 부분이 가장 크지 않을까 싶습니다. 

또한 현재 재직중인 곳을 비롯해서 웹 프록시나 웹 방화벽이 인프라 edge에 붙어있다면 http/2 를 지원하지 않아 자동으로 http1.1 로 switching 되어 경험을 못할텐데 굳이 도입할 필요가 있나? 란 물음에 수긍하게 되는 이유 때문일 수 도 있습니다.

http/2 의 위엄을 느끼고 싶다면  https://akah2san.h2book.com/demo 이곳에서 http2 를 체험해볼 수 있습니다.

demo 는 간단하게 똑같은 이미지를 띄워놓고, 좌측은 1.1 우측은 2로 다운로드 받고 그 결과를 보여줍니다.

결과는 대략 6배 정도의 차이를 보여줍니다. 크롬의 개발자도구를 열어 네트워킹을 직접 살펴보면, http 2 는 완벽하게 병렬 처리로 받은 반면 1.1은 태생적 한계를 극복하지 못한 모습을 확인할 수 있습니다.