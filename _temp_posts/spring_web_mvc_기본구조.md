
스프링 웹 프레임워크는 어떻게 동작하는지에 대한 기본 서술.

자바 EE에서 웹의 흐름은 아래와 같다. 

### 요청 
사용자 URL 접근 --> 웹 어플리케이션 서버 --> 서블릿 컨테이너 --> 서블릿 --> 내부 로직

### 응답
내부 로직 --> 서블릿 --> 서블릿 컨텐이너 --> 웹 어플리케이션 서버 --> 사용자 처리 결과

여기에 스프링 프레임워크는 일종의 기생충과 같다.



### 요청 
사용자 URL 접근 --> 웹 어플리케이션 서버 --> 서블릿 컨테이너 --> 서블릿 --> 내부 로직 ( 스프링 웹 컨테이너 --> 스프링 빈 --> 내부 로직 )

### 응답
내부 로직 ( 스프링 웹 컨테이너 --> 스프링 빈 --> 내부 로직 ) --> 서블릿 --> 서블릿 컨텐이너 --> 웹 어플리케이션 서버 --> 사용자 처리 결과


즉, WAS 안의 또 다른 WAS 처럼 구조가 짜여있다.

뭐랄까 회사 조직도로 보면, 사장입장에서 부서들이 있는 데, 부서 안에는 또 팀이 있고, 팀 안에는 파트가 있다.

사장 입장에서 'ㅁㅁ일을 해줘' 라고 얘기하면, 부서에서 처리되는 줄 알지만, 실상 파트까지 내려가게 될 것이다.

이런 구조는 업무 유연성을 위해서 있는 개념이다. 테크니컬 용어로는 느슨한 연결이라고 하지

조금 더 이를 JAVA EE 와 스프링 프레임워크 용어로 설명하면 아래와 같다.

사용자 URL 접근 --> WAS --> Servlet Container(Application Context, Servlet Context) --> Servlet ( Dispatch Servlet --> HandlerMapping --> Controller --> Service --> Component --> Service --> Controller --> ViewName --> Dispatch Servlet --> ViewResolver --> View )

Application Context 는 전역에서 구동되는 공유 메모리 경계이고,

Servlet Context 는 해당 서블릿 내부에서만 존재하는 메모리 경계이다.

Servlet Context에서 Application Context 는 접근되지만, 반대로는 안된다.

보통 Application Context는 로깅, 모니터링 유틸 같은 공통 모듈이 자리잡을 수 있다.

서블릿 컨텍스트는 원룸으로 생각하면 된다. WAS 라는 거대한 건물에 방을 나누어서 세를 내놓는거다.






